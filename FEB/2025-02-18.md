# TIL Template

## 날짜: 2025-02-18

### 스크럼
- 학습 목표 : 능동적으로 공부하기

### 개념 정리

|  | 정의 | 비고 |
| --- | --- | --- |
| WebSocket | 실시간 양방향 통신을 위해 웹 애플리케이션과 서버 간의 지속적인 연결을 제공하는 프로토콜 | HTTP를 기반으로 초기 연결을 시작하지만, 연결이 성립되면 HTTP와는 다른 독립적인 데이터 교환 경로를 사용한다. |
| ws와 wss의 차이점 | ws는 비암호화, wss는 암호화 프로토콜이다. | ws://를 사용해 데이터를 전송하면 데이터가 암호화되어있지 않은 채로 전송되기 때문에 데이터가 그대로 노출된다.<br><br>반면 wss://는 TSL(Transport Layer Security) 보안 계층을 통과해 전달되므로 송신자 측에서 데이터가 암호화되고, 복호화는 수신자 측에서 이뤄지게 된다.<br>프록시(Proxy) 서버를 통과하는 경우, 데이터가 담긴 패킷은 암호화된 상태이기 때문에 프록시 서버는 패킷 내부를 볼 수 없다. |
| 메시지 프레임과 경계 | WebSocket 프로토콜은 메시지를 전송할 때 메시지 경계를 명확히 하여, 전송된 각 메시지가 독립적이고 구분될 수 있도록 보장한다. | 웹소켓 프레임은 다음과 같은 비트 필드로 구성된 헤더를 포함한다.<br><br>FIN (1비트): 메시지의 마지막 프레임임을 나타낸다.<br>RSV1, RSV2, RSV3 (각 1비트): 예약된 비트로, 확장에 사용된다.<br>Opcode (4비트): 프레임의 유형을 지정한다.<br>Mask (1비트): 페이로드 데이터의 마스킹 여부를 나타낸다.<br>Payload length (7비트 또는 그 이상): 페이로드 데이터의 길이를 나타낸다.<br><br>이러한 헤더 필드를 통해 각 프레임의 시작과 끝을 명확하게 정의하여, 수신 측에서 메시지의 경계를 정확하게 파악할 수 있다. |
| Close 프레임의 역할 | 클라이언트나 서버에서 WebSocket 연결을 종료하기 위해 사용하는 프레임 | Close 프레임은 0x8의 오프코드(opcode)를 가지며, 선택적으로 종료 이유를 나타내는 데이터를 포함할 수 있다.<br>만약 데이터가 포함된다면, 첫 두 바이트는 종료 상태 코드를 나타내는 2바이트의 부호 없는 정수여야 한다. |

### 오늘의 회고
평소에 웹소켓에 대해 관심만 갖고 있었는데, 이렇게 공부하게 되어서 좋았다. 나중에 기회가 된다면 꼭 나만의 웹소켓을 사용한 프로젝트를 진행해보고 싶다는 생각이 들었다.

### 참고 자료 및 링크
- [The WebSocket API (WebSockets) - mdn web docs](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API)
- [The WebSocket Protocol(RFC 6455)](https://datatracker.ietf.org/doc/html/rfc6455)
- [WebSocket - JAVASCRIPT.INFO](https://javascript.info/websocket)
